(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{236:function(e){e.exports=JSON.parse('{"4":{"controller":"0x1D4b99967E1990011A068daF24bBBCf02A439886","storage":"0xcf4CC9f888Cc58B2D46b75d34159803BedAa033d","safeController":"0xa7c8cF1C696DA8bC3d02b9068D3ed2872FE9E76F"},"1337":{"controller":"0xa5bBbE4676E7e60b28A2d9139B48fd5FCbaF6F11","storage":"0x092EEaf04Fa0EBE6e71eD88007345b3d5d75fbB9","safeController":"0x1dA7f60F88578Ac06B06a5284B9B5Bcf0B674361"}}')},243:function(e,t,n){},263:function(e,t){},272:function(e,t){},290:function(e,t){},292:function(e,t){},308:function(e,t){},309:function(e,t){},373:function(e,t){},375:function(e,t){},384:function(e,t){},386:function(e,t){},411:function(e,t){},413:function(e,t){},414:function(e,t){},419:function(e,t){},421:function(e,t){},434:function(e,t){},446:function(e,t){},449:function(e,t){},454:function(e,t){},465:function(e,t){},468:function(e,t){},520:function(e,t,n){},522:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(51),i=n.n(s),o=(n(243),n(6)),l=n.n(o),u=n(19),p=n(9),c=n(11),d=n(17),y=n(16),m=n(529),b=n(528),f=n(37),h=n(231),j=n(1),g=function(){return Object(j.jsxs)(m.a,{bg:"dark",variant:"dark",children:[Object(j.jsx)(m.a.Brand,{href:"#home",children:"Curve Labs Voting App"}),Object(j.jsx)(b.a,{className:"ml-auto mr-2",children:Object(j.jsx)("a",{style:{color:"white"},target:"_blank",rel:"noopener noreferrer",href:"https://github.com/",children:Object(j.jsx)(f.a,{icon:h.a})})})]})},x=n(50),v=function(){return Object(j.jsxs)("header",{className:"App-header",children:[Object(j.jsx)(f.a,{className:"App-logo logo-spin",icon:x.b}),Object(j.jsx)("h3",{className:"mt-5",children:"Opening gateway to the future. Please wait..."})]})},w=function(e){var t=e.message;return Object(j.jsxs)("header",{className:"App-header",children:[Object(j.jsx)(f.a,{className:"App-logo",icon:x.c}),Object(j.jsx)("h3",{className:"mt-5",children:t})]})},T=n(24),O=function(e){var t=e.createSafeProposal,n=Object(a.useState)(""),r=Object(T.a)(n,2),s=r[0],i=r[1],o=Object(a.useState)(""),p=Object(T.a)(o,2),c=p[0],d=p[1],y=Object(a.useState)(""),m=Object(T.a)(y,2),b=m[0],f=m[1],h=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(c,s,b);case 2:if(e.sent){e.next=6;break}return alert("Encountered some error"),e.abrupt("return");case 6:i(""),d(""),f("");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"safe-create-proposal p-2",style:{maxWidth:"30rem"},children:[Object(j.jsx)("h4",{children:"Create a proposal to add/remove address from GNOSIS Safe"}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"proposedOwner",children:"Proposed Owner"}),Object(j.jsx)("input",{type:"text",className:"form-control",value:s,onChange:function(e){return i(e.target.value)},id:"proposedOwner",name:"proposedOwner",placeholder:"Proposed Owner"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"newThreshold",children:"New Threshold"}),Object(j.jsx)("input",{type:"number",className:"form-control",value:b,onChange:function(e){return f(e.target.value)},name:"newThreshold",placeholder:"New Threshold"})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{value:c,className:"form-control",onChange:function(e){return d(e.target.value)},name:"proposalAction",children:[Object(j.jsx)("option",{value:"",disabled:!0,children:"Select Action"}),Object(j.jsx)("option",{value:1,children:"Add Owner"}),Object(j.jsx)("option",{value:0,children:"Remove Owner"})]})}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:h,children:"Create Safe Proposal"})]})]})},_=function(e){var t=e.id,n=e.action,a=e.proposedOwner,r=e.newThreshold,s=e.safeVote;return Object(j.jsx)("div",{className:"safe-ownership-proposal",children:Object(j.jsx)("div",{className:"card ".concat(1===parseInt(n)?"border-primary":"border-danger"),style:{maxWidth:"30rem",width:"100%"},children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:1===parseInt(n)?"Add Owner":"Remove Owner"}),Object(j.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["New Threshold:- ",r]}),Object(j.jsx)("p",{className:"card-text overflow-wrap",children:a}),Object(j.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(j.jsx)("button",{onClick:function(){return s(t,1)},className:"btn btn-primary",children:"Yes"}),Object(j.jsx)("button",{onClick:function(){return s(t,0)},className:"btn btn-danger",children:"No"})]})]})})})},C=function(e){return Object(j.jsx)("div",{className:"safe-proposal-container",style:{maxWidth:"35rem"},children:e.children})},S=function(e){var t=e.safeProposals,n=e.safeVote;return Object(j.jsx)(C,{children:t.map((function(e){var t=e.action,a=e.proposedOwner,r=e.newThreshold,s=e.proposalId;return Object(j.jsx)(_,{id:s,safeVote:n,action:t,proposedOwner:a,newThreshold:r},s)}))})},B=function(e){var t=e.createSafeProposal,n=e.safeProposals,a=e.safeVote;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O,{createSafeProposal:t}),Object(j.jsx)(S,{safeProposals:n,safeVote:a})]})},M=function(e,t){return console.log({error:e,receipt:t})},N=n(530),P=function(e){var t=e.name,n=e.document_hash,a=e.votes,r=e.id,s=e.castVote;return Object(j.jsx)(N.a,{style:{width:"18rem"},children:Object(j.jsxs)(N.a.Body,{children:[Object(j.jsx)(N.a.Title,{children:t}),Object(j.jsxs)(N.a.Subtitle,{children:["Total Votes:- ",a]}),Object(j.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://ipfs.infura.io/ipfs/".concat(n),children:"View Document"}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"button",onClick:function(){return s(r)},className:"btn btn-primary",children:"Cast Vote"})})]})})},k=function(e){var t=e.ballot_address,n=e.createProposals,r=Object(a.useState)(""),s=Object(T.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)(""),u=Object(T.a)(l,2),p=u[0],c=u[1],d=Object(a.useState)([]),y=Object(T.a)(d,2),m=y[0],b=y[1];return Object(j.jsxs)("div",{className:"add-proposals",style:{width:"24rem"},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Proposal Title"}),Object(j.jsx)("input",{type:"text",className:"form-control",value:i,onChange:function(e){return o(e.target.value)},name:"currentProposalTitle",placeholder:"Proposal Title"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Proposal Document"}),Object(j.jsx)("input",{type:"text",className:"form-control",value:p,onChange:function(e){return c(e.target.value)},name:"currentProposalDocument",placeholder:"Proposal Document"})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-secondary mb-2",onClick:function(){if(""!==p&&""!==i){var e=m;e.push({title:i,document:p}),b(e),o(""),c("")}},children:"Add Proposal"}),Object(j.jsx)("div",{children:function(e){return e.map((function(e,t){var n=e.title;e.document;return Object(j.jsx)(N.a,{children:Object(j.jsx)(N.a.Title,{children:n})})}))}(m)}),Object(j.jsx)("button",{type:"button",class:"btn btn-primary mt-2",onClick:function(){var e=[],a=[];m.forEach((function(t){var n=t.title,r=t.document;e.push(n),a.push(r)})),console.log("Proposals to be created",e,a),n(t,e,a).then((function(e){return e?(c(""),o(""),void b([])):null}))},children:"Create Proposal"})]})},A=function(e){var t=e.currentBallot,n=e.getAllProposals,r=e.handleClearCurrentBallot,s=e.createProposals,i=e.cancelBallot,o=e.startVoting,p=e.endVoting,c=e.checkWinner,d=e.castVote,y=e.Ballot,m=t.title,b=t.contract_address,h=t.ballot_state,g=t.id,v=Object(a.useState)([]),w=Object(T.a)(v,2),O=w[0],_=w[1],C=Object(a.useState)(""),S=Object(T.a)(C,2),B=S[0],N=S[1],A=Object(a.useState)({}),V=Object(T.a)(A,2),E=V[0],F=V[1],I=Object(a.useState)(h),W=Object(T.a)(I,2),D=W[0],R=W[1];y.options.address=b,y.events.NewVoteCasted().on("data",(function(e){var t=e.returnValues,n=t.proposal_id,a=t.vote_count,r=O;try{r[n].votes=a}catch(s){console.log("Handling multiple update")}_(r)})).on("error",M),y.events.WinnerProposal().on("data",(function(e){var t=e.returnValues.proposal_id;N(t)})).on("error",M),y.events.VotingStarted().on("data",(function(e){return R(1)})).on("error",M),y.events.VotingEnded().on("data",(function(e){return R(3)})).on("error",M);var L=function(e){return{name:e.name,votes:e.votes,document_hash:e.document_hash}};Object(a.useEffect)((function(){n(b).then((function(e){return _(e.map(L))}))}),[]),Object(a.useEffect)((function(){isNaN(B)||H(b)}),[B]);var H=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(b);case 2:t=e.sent,console.log("winner announced"),F(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(g);case 2:if(!e.sent){e.next=7;break}return r(),alert("Successfully cancelled a ballot"),e.abrupt("return");case 7:alert("Encountered some error.");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"ballot tc",children:[Object(j.jsx)(f.a,{icon:x.a,onClick:r}),Object(j.jsx)("h3",{children:m}),Object(j.jsxs)("h6",{children:["Ballot Address:- ",b]}),Object(j.jsx)("button",{onClick:G,type:"button",className:"btn btn-danger",children:"Cancel Ballot"}),Object(j.jsx)("button",{onClick:function(){return o(g)},type:"button",className:"btn btn-primary",children:"Start Voting"}),Object(j.jsx)("button",{onClick:function(){return p(g)},type:"button",className:"btn btn-primary",children:"End Voting"}),Object(j.jsxs)("p",{children:["Ballot Status:- ",D]}),D<=1?Object(j.jsx)(j.Fragment,{}):Object(j.jsxs)("h5",{children:["Winning Proposal:- ",E.name]}),D>0?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)("div",{className:"w-100 d-flex justify-content-center",children:Object(j.jsx)(k,{ballot_address:b,createProposals:s})}),Object(j.jsx)("div",{className:"proposal-container d-flex flex-wrap justify-content-center",children:O.map((function(e,t){var n=e.name,a=e.document_hash,r=e.votes;return Object(j.jsx)(P,{id:t,name:n,document_hash:a,votes:r,castVote:d(b)},t)}))})]})},V=function(e){var t=e.title,n=e.status,a=e.handleSelectBallot,r=e.id;return Object(j.jsx)(N.a,{style:{width:"18rem"},children:Object(j.jsxs)(N.a.Body,{children:[Object(j.jsx)(N.a.Title,{children:t}),Object(j.jsx)(N.a.Subtitle,{className:"mb-2 text-muted",children:n}),Object(j.jsx)("button",{type:"button",onClick:function(){return a(r)},className:"btn btn-primary",children:"View Ballot"})]})})},E=function(e){return Object(j.jsx)("div",{className:"ballot-container d-flex flex-wrap justify-content-center",children:e.children})},F=function(e){var t=e.ballots,n=e.handleSelectBallot;return Object(j.jsx)("div",{className:"ballot-view",children:Object(j.jsx)(E,{children:t.map((function(e){var t=e.ballot_state,a=e.contract_address,r=e.id,s=e.title;return Object(j.jsx)(V,{ballot_state:t,handleSelectBallot:n,contract_address:a,id:r,title:s},r)}))})})},I=function(e){var t=e.handleCreateBallot,n=Object(a.useState)(""),r=Object(T.a)(n,2),s=r[0],i=r[1];return Object(j.jsx)("div",{className:"create-ballot w-100 d-flex justify-content-center",children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"form-group",style:{maxWidth:"24rem"},children:[Object(j.jsx)("label",{htmlFor:"title",children:"Ballot Title"}),Object(j.jsx)("input",{value:s,className:"form-control",onChange:function(e){return i(e.target.value)},id:"title",name:"title",placeholder:"Ballot Title"})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){t(s)},children:"Create Ballot"})]})})},W=n(527),D=function(e){var t=e.show,n=e.onHide,r=e.registerVoter,s=Object(a.useState)(!1),i=Object(T.a)(s,2),o=i[0],p=i[1],c=Object(a.useState)(""),d=Object(T.a)(c,2),y=d[0],m=d[1],b=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,r(y);case 3:if(e.sent){e.next=8;break}return alert("Failed to register!"),p(!1),e.abrupt("return");case 8:alert("Welcome to the future."),p(!0),n();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(W.a,{show:t,onHide:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(j.jsx)(W.a.Header,{closeButton:!0,children:Object(j.jsx)(W.a.Title,{id:"contained-modal-title-vcenter",children:"Register here!"})}),Object(j.jsxs)(W.a.Body,{children:[Object(j.jsx)("h6",{children:"You are not registered, register here!"}),Object(j.jsxs)("div",{className:"form-group mt-4",children:[Object(j.jsx)("label",{htmlFor:"usernameInput",children:"User Name"}),Object(j.jsx)("input",{value:y,onChange:function(e){return m(e.target.value)},className:"form-control",id:"usernameInput",type:"text"})]})]}),Object(j.jsx)(W.a.Footer,{children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:b,children:o?"Registering...":"Register"})})]})},R=function(){return Object(j.jsxs)("p",{className:"tc footer mt-5",children:["Created with ",Object(j.jsx)(f.a,{icon:x.d,className:"heart"})," by Mihirsinh Parmar.",Object(j.jsx)("br",{}),Object(j.jsx)("a",{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer",children:"Link to Client Side Repo!"}),Object(j.jsx)("br",{}),Object(j.jsx)("a",{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer",children:"Link to Full Project Repo!"})]})},L=n(104),H=n.n(L),G=function(){return new Promise((function(e,t){window.addEventListener("load",Object(u.a)(l.a.mark((function n(){var a,r,s,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.ethereum){n.next=13;break}return a=new H.a(window.ethereum),n.prev=2,n.next=5,window.ethereum.enable();case 5:e(a),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),t(n.t0);case 11:n.next=14;break;case 13:window.web3?(r=window.web3,console.log("Injected web3 detected"),e(r)):(s=new H.a.providers.HttpProvider("http://127.0.0.1:8545"),i=new H.a(s),console.log("No web3 instance injected, using local web3."),e(i));case 14:case"end":return n.stop()}}),n,null,[[2,8]])}))))}))},Y=n(85),U=n(236),J=(n(520),"INVALID_NETWORK_ID"),q="0x0000000000000000000000000000000000000000",z=function(e){Object(d.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={currentAccount:"",errorMessage:"",currectBallot:{},currentVoter:{},allBallots:[],safeProposals:[],isLoaded:!1,errorEncountered:!1,isBallotSelected:!1},e.getNetworkId=Object(u.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.web3.eth.net.getId();case 2:return n=t.sent,t.abrupt("return",5777===n?1337:n);case 4:case"end":return t.stop()}}),t)}))),e.componentDidMount=Object(u.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G();case 3:return e.web3=t.sent,e.gas=3e6,e.gasPrice=e.web3.utils.toWei("2","Gwei"),window.ethereum.on("accountsChanged",(function(t){e.getVoterDetails(t[0]),e.setState({currentVoter:{},currentAccount:t[0]})})),window.ethereum.on("chainChanged",(function(){return window.location.reload()})),t.next=10,e.web3.eth.getAccounts();case 10:return n=t.sent,t.next=13,e.getNetworkId();case 13:if(t.t0=t.sent,a=U[t.t0]){t.next=17;break}throw Error(J);case 17:e.Storage=new e.web3.eth.Contract(Y.d.abi,a.storage),e.Controller=new e.web3.eth.Contract(Y.b.abi,a.controller),e.SafeController=new e.web3.eth.Contract(Y.c.abi,a.safeController),e.BallotFactory=new e.web3.eth.Contract(Y.a.abi),console.log({Storage:e.Storage,Controller:e.Controller,SafeController:e.SafeController}),e.getVoterDetails(n[0]),e.getSafeProposals(),e.getAllBallots(),e.listenToSafeProposal(),e.listenToSafeProposalEnd(),e.listenToBallotCreation(),setTimeout((function(){e.setState({isLoaded:!0,currentAccount:n[0]})}),500),t.next=38;break;case 31:if(t.prev=31,t.t1=t.catch(0),t.t1.message!==J){t.next=36;break}return e.setState({errorEncountered:!0,errorMessage:"Please switch to network ID that we support. Thank You."}),t.abrupt("return");case 36:console.error(t.t1),e.setState({errorEncountered:!0,errorMessage:"Ooops! Gateway denied entry, try again after solving the error."});case 38:case"end":return t.stop()}}),t,null,[[0,31]])}))),e.onHide=function(){return e.setState({show:!1})},e.onShow=function(){return e.setState({show:!0})},e.generateOptions=function(t){return{from:t,gas:e.gas,gasPrice:e.gasPrice}},e.listenToBallotCreation=function(){e.Storage.events.NewBallotCreated().on("data",(function(t){var n=t.returnValues,a=n.ballot_address,r={id:n.ballot_id,ballot_state:0,title:n.ballot_for,contract_address:a};console.log(t,r);var s=e.state.allBallots;s.push(r),e.setState({allBallots:s}),alert("New Ballot Created")})).on("error",M)},e.listenToBallotStateChanged=function(){e.Storage.events.BallotStateChanged().on("data",(function(t){var n=t.returnValues,a=n.ballot_id,r=n.status,s=e.state.allBallots,i=s.map((function(e){return e.id===a&&(e.ballot_state=r),e}));console.log({ballot_id:a,event:t,newBallots:i,oldBallots:s}),e.setState({allBallots:i})})).on("error",M)},e.listenToSafeProposal=function(){e.SafeController.events.NewOwnershipProposalCreated().on("data",(function(t){var n=t.returnValues,a=n.action,r=n.proposal_id,s=n.new_threshold,i={proposedOwner:n.proposed_owner,proposalId:r,newThreshold:s,yesWt:0,noWt:0,action:a};console.log(t,i);var o=e.state.safeProposals;o.push(i),e.setState({safeProposals:o})})).on("error",M)},e.listenToSafeProposalEnd=function(){e.SafeController.events.OwnershipProposalEnded().on("data",(function(t){var n=t.returnValues,a=n.proposal_id,r=n.success;alert("Proposal ".concat(a," was ").concat(r?"Accepted":"Rejected","!"));var s=e.state.safeProposals.filter((function(e){return e.proposalId!==a}));e.setState({safeProposals:s})})).on("error",M)},e.registerVoter=function(){var t=Object(u.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.currentAccount,t.prev=1,t.next=4,e.Controller.methods.storageRegisterVoter(n).send(e.generateOptions(a));case 4:return t.abrupt("return",!0);case 7:return t.prev=7,t.t0=t.catch(1),console.error(t.t0),alert("Error while registering. Check if the Balance Pool Address is correct or not."),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),e.getVoterDetails=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r,s,i,o,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.Storage.methods.is_voter(n).call();case 2:if("1"===t.sent){t.next=6;break}return e.setState({show:!0}),t.abrupt("return");case 6:return t.next=8,e.Storage.methods.address_to_voter_id(n).call();case 8:return a=t.sent,t.next=11,e.Storage.methods.id_to_voter(a).call();case 11:r=t.sent,s=r.account,i=r.id,o=r.name,u=r.vote_wt,e.setState({currentVoter:{account:s,id:i,name:o,vote_wt:u},show:!1});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createBallot=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.currentAccount,t.prev=1,t.next=4,e.Controller.methods.ballotCreateBallot(n).send(e.generateOptions(a));case 4:r=t.sent,console.log(r),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),alert("");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.createProposals=function(){var t=Object(u.a)(l.a.mark((function t(n,a,r){var s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.state.currentAccount,t.prev=1,t.next=4,e.Controller.methods.ballotCreateProposals(n,a,r).send(e.generateOptions(s));case 4:return i=t.sent,console.log(i),t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),console.log(t.t0),alert(""),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n,a){return t.apply(this,arguments)}}(),e.cancelBallot=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.currentAccount,t.prev=1,t.next=4,e.Controller.methods.ballotCancelBallot(n).send(e.generateOptions(a));case 4:return r=t.sent,console.log(r),t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),console.error(t.t0),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),e.startVoting=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.currentAccount,t.prev=1,t.next=4,e.Controller.methods.ballotStart(n).send(e.generateOptions(a));case 4:r=t.sent,console.log(r),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),alert("");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.endVoting=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.currentAccount,t.prev=1,t.next=4,e.Controller.methods.ballotEnd(n).send(e.generateOptions(a));case 4:r=t.sent,console.log(r),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),alert("");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.castVote=function(t){return function(){var n=Object(u.a)(l.a.mark((function n(a){var r,s;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.state.currentAccount,n.prev=1,n.next=4,e.Controller.methods.ballotCastVote(t,a).send(e.generateOptions(r));case 4:s=n.sent,console.log(s),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},e.getAllBallots=Object(u.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.Storage.methods.getAllBallots().call();case 2:n=t.sent,a=n.map((function(e){return{ballot_state:e.ballot_state,contract_address:e.contract_address,id:e.id,title:e.title}})),e.setState({allBallots:a}),console.log(a);case 6:case"end":return t.stop()}}),t)}))),e.getAllProposals=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=e.BallotFactory).options.address=n,t.next=4,a.methods.getAllProposals().call();case 4:return r=t.sent,console.log(r),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.checkWinner=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=e.BallotFactory).options.address=n,t.next=4,a.methods.getWinner().call();case 4:return r=t.sent,console.log(r),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createSafeProposal=function(){var t=Object(u.a)(l.a.mark((function t(n,a,r){var s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.state.currentAccount,t.next=3,e.Controller.methods.safeCreateOwnershipProposal(n,a,r);case 3:return i=t.sent,t.next=6,i.send(e.generateOptions(s)).on("receipt",(function(e){return console.log(e),!0})).on("error",(function(e){return console.log(e),!1}));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.safeVote=function(){var t=Object(u.a)(l.a.mark((function t(n,a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.state.currentAccount,1!==a){t.next=5;break}return t.next=4,e.Controller.methods.safeYes(n).send(e.generateOptions(r));case 4:return t.abrupt("return");case 5:return t.next=7,e.Controller.methods.safeNo(n).send(e.generateOptions(r));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getSafeProposals=Object(u.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.SafeController.methods.getAllActiveProposals().call();case 2:n=t.sent,a=n.map((function(e){return{proposedOwner:e.proposedOwner,proposalId:e.proposalId,newThreshold:e.newThreshold,yesWt:e.yesWt,noWt:e.noWt,action:e.action}})).filter((function(e){return e.proposedOwner!==q})),e.setState({safeProposals:a});case 5:case"end":return t.stop()}}),t)}))),e.handleCreateBallot=function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.createBallot(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSelectBallot=function(t){var n=e.state.allBallots.find((function(e){return e.id===t}));e.setState({currentBallot:n,isBallotSelected:!0}),console.log(n)},e.handleClearCurrentBallot=function(){e.setState({currentBallot:{},isBallotSelected:!1})},e.renderBallots=function(e){e.map((function(e){return Object(j.jsx)(A,{})}))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state,t=e.show,n=e.isLoaded,a=e.allBallots,r=e.errorMessage,s=e.safeProposals,i=e.currentBallot,o=e.errorEncountered,l=e.isBallotSelected,u=this.onHide,p=this.safeVote,c=this.castVote,d=this.endVoting,y=this.startVoting,m=this.checkWinner,b=this.cancelBallot,f=this.registerVoter,h=this.createProposals,x=this.getAllProposals,T=this.createSafeProposal,O=this.handleCreateBallot,_=this.handleSelectBallot,C=this.handleClearCurrentBallot;return Object(j.jsx)("div",{className:"App conatiner",children:n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(D,{show:t,onHide:u,registerVoter:f}),Object(j.jsx)(g,{}),Object(j.jsxs)("ul",{className:"tl",children:["Steps to Participate in voting:-",Object(j.jsxs)("li",{children:["Stake some DAI/USDC in Balancer Pool ",Object(j.jsx)("a",{rel:"noreferrer noopener",target:"_blank",className:"text-wrap",href:"https://rinkeby.pools.balancer.exchange/#/pool/".concat("0x1A7F38418aF5AaBF0fcAe420Ea0b9BbF7bBfd34b"),children:"Balancer Pool"})]}),Object(j.jsxs)("li",{children:["If you don't have DAI/USDC, you can get it from ",Object(j.jsx)("a",{rel:"noreferrer noopener",target:"_blank",href:"https://app.uniswap.org/#/swap",children:"Uniswap"})]}),Object(j.jsx)("li",{children:"Once staking is done, Register here as Voter."}),Object(j.jsxs)("li",{children:["GNOSIS Safe Manager = ",Object(j.jsx)("a",{rel:"noreferrer noopener",target:"_blank",className:"text-wrap",href:"https://rinkeby.gnosis-safe.io/app/#/safes/".concat("0x6cCf1d097BBCE68D0A4a4Bb647349af423A2Ccb7"),children:"Safe Manager"})]}),Object(j.jsx)("li",{className:"footer",children:"Your Vote weight is the share of your staking in balancer pool."}),Object(j.jsx)("li",{className:"footer",children:"Please referesh the page after you register"}),Object(j.jsxs)("li",{className:"footer",children:["DAI Token - 0x5592EC0cfb4dbc12D3aB100b257153436a1f0FEa",Object(j.jsx)("br",{}),"USDC Token - 0x4DBCdF9B62e891a7cec5A2568C3F4FAF9E8Abe2b",Object(j.jsx)("br",{})]})]}),Object(j.jsxs)("div",{className:"row m-0",children:[Object(j.jsx)("div",{className:"col-12 col-md-8 top-border-black pt-5 pb-5",children:l?Object(j.jsx)(A,{currentBallot:i,getAllProposals:x,handleClearCurrentBallot:C,createProposals:h,cancelBallot:b,startVoting:y,endVoting:d,checkWinner:m,castVote:c,Ballot:this.BallotFactory}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(I,{handleCreateBallot:O}),Object(j.jsx)(F,{ballots:a,handleSelectBallot:_})]})}),Object(j.jsx)("div",{className:"col-12 col-md-4 d-flex flex-wrap justify-content-center pt-5 top-border-black",children:Object(j.jsx)(B,{createSafeProposal:T,safeProposals:s,safeVote:p})})]}),Object(j.jsx)(R,{})]}):o?Object(j.jsx)(w,{message:r}):Object(j.jsx)(v,{})})}}]),n}(a.Component),K=(n(521),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,531)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))});i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(z,{})}),document.getElementById("root")),K()},85:function(e){e.exports=JSON.parse('{"d":{"abi":[{"inputs":[{"internalType":"address","name":"_pool","type":"address"},{"internalType":"address","name":"_controller","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"canceller","type":"address"},{"indexed":false,"internalType":"address","name":"ballot_address","type":"address"},{"indexed":true,"internalType":"uint256","name":"ballot_id","type":"uint256"},{"indexed":false,"internalType":"string","name":"ballot_for","type":"string"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"BallotCancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"ballot_address","type":"address"},{"indexed":true,"internalType":"uint256","name":"ballot_id","type":"uint256"},{"indexed":false,"internalType":"uint8","name":"status","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"BallotStateChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"prev_controller","type":"address"},{"indexed":true,"internalType":"address","name":"new_controller","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"ControllerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"creator","type":"address"},{"indexed":false,"internalType":"address","name":"ballot_address","type":"address"},{"indexed":false,"internalType":"uint256","name":"ballot_id","type":"uint256"},{"indexed":false,"internalType":"string","name":"ballot_for","type":"string"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"NewBallotCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"voter","type":"address"},{"indexed":false,"internalType":"uint256","name":"voter_id","type":"uint256"},{"indexed":false,"internalType":"string","name":"voter_name","type":"string"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"NewVoterAdded","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"address_to_ballot_id","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"address_to_voter_id","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ballot_count","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"bpool","outputs":[{"internalType":"contract IBPool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ballot_id","type":"uint256"}],"name":"cancelBallot","outputs":[{"internalType":"uint8","name":"flag_","type":"uint8"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint8","name":"_new_state","type":"uint8"}],"name":"changeBallotState","outputs":[{"internalType":"uint8","name":"flag_","type":"uint8"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_ballot_address","type":"address"},{"internalType":"string","name":"_title","type":"string"}],"name":"createBallot","outputs":[{"internalType":"uint8","name":"flag_","type":"uint8"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getAllBallots","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"enum Storage.BallotState","name":"ballot_state","type":"uint8"},{"internalType":"address","name":"contract_address","type":"address"},{"internalType":"string","name":"title","type":"string"}],"internalType":"struct Storage.Ballot[]","name":"ballots_","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ballot_id","type":"uint256"}],"name":"getBallot","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"enum Storage.BallotState","name":"ballot_state","type":"uint8"},{"internalType":"address","name":"contract_address","type":"address"},{"internalType":"string","name":"title","type":"string"}],"internalType":"struct Storage.Ballot","name":"ballot_","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ballot_id","type":"uint256"}],"name":"getBallotAddress","outputs":[{"internalType":"address","name":"ballot_address_","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getController","outputs":[{"internalType":"address","name":"controller_","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_voter","type":"address"}],"name":"getVoteWeight","outputs":[{"internalType":"uint256","name":"wt_","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"id_to_ballot","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"enum Storage.BallotState","name":"ballot_state","type":"uint8"},{"internalType":"address","name":"contract_address","type":"address"},{"internalType":"string","name":"title","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"id_to_voter","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"vote_wt","type":"uint256"},{"internalType":"address","name":"account","type":"address"},{"internalType":"string","name":"name","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"is_ballot_contract","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"is_voter","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_voter","type":"address"},{"internalType":"string","name":"_name","type":"string"}],"name":"registerVoter","outputs":[{"internalType":"uint8","name":"flag_","type":"uint8"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_new_controller","type":"address"}],"name":"setController","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"voter_count","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"weightDecimals","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]},"b":{"abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"prev_admin","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"AdminResigned","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"new_admin","type":"address"},{"indexed":true,"internalType":"address","name":"requester","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"NewAdminAdded","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_new_admin","type":"address"}],"name":"addAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ballot_id","type":"uint256"}],"name":"ballotCancelBallot","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_ballot_address","type":"address"},{"internalType":"uint256","name":"_proposal_id","type":"uint256"}],"name":"ballotCastVote","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_title","type":"string"}],"name":"ballotCreateBallot","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_ballot_address","type":"address"},{"internalType":"string[]","name":"_proposal_names","type":"string[]"},{"internalType":"string[]","name":"_proposal_documents","type":"string[]"}],"name":"ballotCreateProposals","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ballot_id","type":"uint256"}],"name":"ballotEnd","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ballot_id","type":"uint256"}],"name":"ballotStart","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_param","type":"address"}],"name":"checkIsAdmin","outputs":[{"internalType":"uint8","name":"flag","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSafeController","outputs":[{"internalType":"address","name":"safe_controller_","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getStorage","outputs":[{"internalType":"address","name":"storage_","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_voting_storage","type":"address"},{"internalType":"address","name":"_safe","type":"address"}],"name":"initialiseController","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isInitialised","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"resignAsAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint8","name":"_action","type":"uint8"},{"internalType":"address","name":"_proposedOwner","type":"address"},{"internalType":"uint256","name":"_newThreshold","type":"uint256"}],"name":"safeCreateOwnershipProposal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"safeGetController","outputs":[{"internalType":"address","name":"controller_","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"safeGetSafeManager","outputs":[{"internalType":"address","name":"safe_manager_","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_proposal_id","type":"uint256"}],"name":"safeNo","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_new_controller","type":"address"}],"name":"safeSetController","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_new_safe_manager","type":"address"}],"name":"safeSetSafeManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_proposal_id","type":"uint256"}],"name":"safeYes","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_safe_controller","type":"address"}],"name":"setSafeController","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_voting_storage","type":"address"}],"name":"setStorage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"}],"name":"storageRegisterVoter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_new_controller","type":"address"}],"name":"storageSetController","outputs":[],"stateMutability":"nonpayable","type":"function"}]},"a":{"abi":[{"inputs":[{"internalType":"address","name":"_voting_storage","type":"address"},{"internalType":"string","name":"_title","type":"string"},{"internalType":"uint256","name":"_creation_timestamp","type":"uint256"},{"internalType":"uint8","name":"_state","type":"uint8"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"proposal_address","type":"address"},{"indexed":false,"internalType":"address","name":"storage_address","type":"address"},{"indexed":false,"internalType":"address","name":"controller_address","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"BallotContractDeployed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"voter","type":"address"},{"indexed":true,"internalType":"uint256","name":"proposal_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"vote_count","type":"uint256"}],"name":"NewVoteCasted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"Started","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"Stopped","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"VotingEnded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"VotingStarted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"proposal_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"WinnerProposal","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_ballot_address","type":"address"},{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"castVote","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string[]","name":"_proposal_names","type":"string[]"},{"internalType":"string[]","name":"_proposal_documents","type":"string[]"}],"name":"createProposals","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"creation_timestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"destroyBallot","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"end","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getAllProposals","outputs":[{"components":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"document_hash","type":"string"},{"internalType":"uint256","name":"votes","type":"uint256"}],"internalType":"struct Ballot.Proposal[]","name":"proposals_","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getControllerAddress","outputs":[{"internalType":"address","name":"controller_","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getStorageAddress","outputs":[{"internalType":"address","name":"storage_","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getWinner","outputs":[{"components":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"document_hash","type":"string"},{"internalType":"uint256","name":"votes","type":"uint256"}],"internalType":"struct Ballot.Proposal","name":"proposal_","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"have_voted","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"proposals","outputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"document_hash","type":"string"},{"internalType":"uint256","name":"votes","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"start","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"state","outputs":[{"internalType":"enum Ballot.BallotState","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"stopped","outputs":[{"internalType":"uint8","name":"is_stopped","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"title","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"winnerIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]},"c":{"abi":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"prev_controller","type":"address"},{"indexed":false,"internalType":"address","name":"new_controller","type":"address"}],"name":"ControlTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"proposal_id","type":"uint256"},{"indexed":false,"internalType":"uint8","name":"action","type":"uint8"},{"indexed":false,"internalType":"address","name":"proposed_owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"new_threshold","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"NewOwnershipProposalCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"proposal_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"yes_wt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"no_wt","type":"uint256"}],"name":"NewVoteCasted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"proposal_id","type":"uint256"},{"indexed":false,"internalType":"uint8","name":"action","type":"uint8"},{"indexed":false,"internalType":"bool","name":"success","type":"bool"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"OwnershipProposalEnded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"prev_safe","type":"address"},{"indexed":false,"internalType":"address","name":"new_safe","type":"address"}],"name":"SafeManagerChanged","type":"event"},{"inputs":[],"name":"HALF_WEIGHT","outputs":[{"internalType":"uint24","name":"","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint8","name":"_action","type":"uint8"},{"internalType":"address","name":"_proposedOwner","type":"address"},{"internalType":"uint256","name":"_newThreshold","type":"uint256"}],"name":"createOwnershipProposal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getAllActiveProposals","outputs":[{"components":[{"internalType":"address","name":"proposedOwner","type":"address"},{"internalType":"uint256","name":"proposalId","type":"uint256"},{"internalType":"uint256","name":"newThreshold","type":"uint256"},{"internalType":"uint256","name":"yesWt","type":"uint256"},{"internalType":"uint256","name":"noWt","type":"uint256"},{"internalType":"enum SafeController.OwnershipProposalAction","name":"action","type":"uint8"}],"internalType":"struct SafeController.OwnershipProposal[]","name":"proposals_","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getController","outputs":[{"internalType":"address","name":"controller_","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOwners","outputs":[{"internalType":"address[]","name":"owners_","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_proposal_id","type":"uint256"}],"name":"getProposal","outputs":[{"components":[{"internalType":"address","name":"proposedOwner","type":"address"},{"internalType":"uint256","name":"proposalId","type":"uint256"},{"internalType":"uint256","name":"newThreshold","type":"uint256"},{"internalType":"uint256","name":"yesWt","type":"uint256"},{"internalType":"uint256","name":"noWt","type":"uint256"},{"internalType":"enum SafeController.OwnershipProposalAction","name":"action","type":"uint8"}],"internalType":"struct SafeController.OwnershipProposal","name":"proposal_","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSafeManager","outputs":[{"internalType":"address","name":"safe_manager_","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"haveVoted","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_safe","type":"address"},{"internalType":"address","name":"_controller","type":"address"}],"name":"initialiseSafeController","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"isExecuted","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isInitialised","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_proposal_id","type":"uint256"},{"internalType":"uint256","name":"_noWt","type":"uint256"},{"internalType":"address","name":"_voter","type":"address"}],"name":"no","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"ownershipProposals","outputs":[{"internalType":"address","name":"proposedOwner","type":"address"},{"internalType":"uint256","name":"proposalId","type":"uint256"},{"internalType":"uint256","name":"newThreshold","type":"uint256"},{"internalType":"uint256","name":"yesWt","type":"uint256"},{"internalType":"uint256","name":"noWt","type":"uint256"},{"internalType":"enum SafeController.OwnershipProposalAction","name":"action","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proposalCounter","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"proposalStatus","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_new_controller","type":"address"}],"name":"setController","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_new_safe_manager","type":"address"}],"name":"setSafeManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_proposal_id","type":"uint256"},{"internalType":"uint256","name":"_yesWt","type":"uint256"},{"internalType":"address","name":"_voter","type":"address"}],"name":"yes","outputs":[],"stateMutability":"nonpayable","type":"function"}]}}')}},[[522,1,2]]]);
//# sourceMappingURL=main.410d3f94.chunk.js.map